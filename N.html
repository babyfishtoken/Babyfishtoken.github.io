<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8" />
<title>جستجوی توکن</title>
</head>
<body>

<h2>جستجوی توکن</h2>

<input id="search" placeholder="نام یا آدرس توکن" />
<button onclick="searchToken()">جستجو</button>

<div id="result"></div>

<script>
async function searchToken() {
  const query = document.getElementById("search").value;
  const resultDiv = document.getElementById("result");

  resultDiv.innerHTML = "در حال جستجو...";

  try {
    const res = await fetch(`https://api.dexscreener.com/latest/dex/search?q=${query}`);
    const data = await res.json();

    if (!data.pairs || data.pairs.length === 0) {
      resultDiv.innerHTML = "توکن پیدا نشد";
      return;
    }

    let html = "";

    data.pairs.slice(0, 10).forEach(pair => {
      html += `
        <div style="border:1px solid #ccc; margin:10px; padding:10px;">
          <b>${pair.baseToken.name}</b> (${pair.baseToken.symbol})<br>
          شبکه: ${pair.chainId}<br>
          آدرس: ${pair.baseToken.address}<br>
          قیمت: $${pair.priceUsd || 0}<br>
        </div>
      `;
    });

    resultDiv.innerHTML = html;

  } catch (e) {
    resultDiv.innerHTML = "خطا در جستجو";
  }
}
</script>

</body>
</html>
