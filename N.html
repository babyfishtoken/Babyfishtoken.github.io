<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ø§Ù†ØªØ®Ø§Ø¨ ØªÙˆÚ©Ù† Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø³ØªØ®Ø±</title>

<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>

<style>
body{
  font-family:tahoma;
  background:#0f172a;
  color:white;
  text-align:center;
}
input,select,button{
  padding:12px;
  margin:10px;
  border-radius:8px;
  border:none;
  width:300px;
}
.card{
  background:#1e293b;
  padding:20px;
  border-radius:10px;
  margin-top:20px;
  display:inline-block;
}
</style>
</head>

<body>

<h2>ğŸ” Ø§Ù†ØªØ®Ø§Ø¨ ØªÙˆÚ©Ù† Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø³ØªØ®Ø±</h2>

<select id="network">
  <option value="bsc">BSC</option>
  <option value="ethereum">Ethereum</option>
  <option value="polygon">Polygon</option>
  <option value="arbitrum">Arbitrum</option>
</select>

<br>

<input id="tokenAddress" placeholder="Ø¢Ø¯Ø±Ø³ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ ØªÙˆÚ©Ù†">

<br>

<button onclick="loadToken()">Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª</button>

<div id="result"></div>

<script>
const RPC = {
  bsc: "https://rpc.ankr.com/bsc",
  ethereum: "https://rpc.ankr.com/eth",
  polygon: "https://rpc.ankr.com/polygon",
  arbitrum: "https://rpc.ankr.com/arbitrum"
};

const ABI = [
  "function name() view returns (string)",
  "function symbol() view returns (string)",
  "function decimals() view returns (uint8)",
  "function totalSupply() view returns (uint256)"
];

let selectedToken = null;

async function loadToken(){
  const net = document.getElementById("network").value;
  const address = document.getElementById("tokenAddress").value.trim();
  const result = document.getElementById("result");

  if(!address){
    alert("Ø¢Ø¯Ø±Ø³ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ ÙˆØ§Ø±Ø¯ Ú©Ù†");
    return;
  }

  result.innerHTML="Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ...";

  try{
    const provider = new ethers.providers.JsonRpcProvider(RPC[net]);
    const contract = new ethers.Contract(address, ABI, provider);

    const name = await contract.name();
    const symbol = await contract.symbol();
    const decimals = await contract.decimals();
    const total = await contract.totalSupply();

    selectedToken = {address, net};

    result.innerHTML = `
      <div class="card">
        <h3>${name} (${symbol})</h3>
        Ø´Ø¨Ú©Ù‡: ${net}<br>
        Ø§Ø¹Ø´Ø§Ø±: ${decimals}<br>
        Ø¹Ø±Ø¶Ù‡ Ú©Ù„: ${ethers.utils.formatUnits(total, decimals)}<br>
        Ø¢Ø¯Ø±Ø³:<br>
        <small>${address}</small><br><br>

        <button onclick="createPool()">Ø§ÛŒØ¬Ø§Ø¯ Ø§Ø³ØªØ®Ø±</button>
      </div>
    `;

  }catch(e){
    result.innerHTML="âŒ ØªÙˆÚ©Ù† Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª ÛŒØ§ Ø´Ø¨Ú©Ù‡ Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª";
  }
}

function createPool(){
  if(!selectedToken){
    alert("ØªÙˆÚ©Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡");
    return;
  }

  alert("Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯: Ø§Ù†ØªØ®Ø§Ø¨ ØªÙˆÚ©Ù† Ø¯ÙˆÙ… Ùˆ Ø§ÙØ²ÙˆØ¯Ù† Ù†Ù‚Ø¯ÛŒÙ†Ú¯ÛŒ");
}
</script>

</body>
</html>
