<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Token Loader</title>

<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>

<style>
body{background:#111;color:#fff;font-family:tahoma;text-align:center}
input,select,button{padding:10px;margin:10px;border-radius:8px}
</style>
</head>
<body>

<h2>توکن تازه خود را وارد کن</h2>

<select id="network">
<option value="bsc">BSC</option>
<option value="eth">Ethereum</option>
</select>

<br>

<input id="addr" placeholder="آدرس قرارداد">

<br>

<button onclick="load()">دریافت</button>

<div id="out"></div>

<script>
const RPC={
  bsc:"https://bsc-dataseed.binance.org/",
  eth:"https://eth.llamarpc.com"
};

const ABI=[
 "function name() view returns (string)",
 "function symbol() view returns (string)",
 "function decimals() view returns (uint8)"
];

async function load(){
  const net=document.getElementById("network").value;
  const address=document.getElementById("addr").value.trim();
  const out=document.getElementById("out");

  if(!address){
    alert("آدرس وارد کن");
    return;
  }

  out.innerHTML="در حال خواندن از بلاکچین...";

  try{
    const provider=new ethers.providers.JsonRpcProvider(RPC[net]);
    const token=new ethers.Contract(address,ABI,provider);

    const name=await token.name();
    const symbol=await token.symbol();
    const decimals=await token.decimals();

    out.innerHTML=`
      <h3>${name} (${symbol})</h3>
      اعشار: ${decimals}
    `;

  }catch(e){
    console.log(e);
    out.innerHTML="❌ خطا: آدرس اشتباه یا شبکه غلط";
  }
}
</script>

</body>
</html> 
