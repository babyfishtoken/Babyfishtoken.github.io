<!DOCTYPE html>
<html>
<head>
    <title>ุงุชุตุงู ุจู Infura</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.1/dist/web3.min.js"></script>
</head>
<body>
    <h3>ุงุชุตุงู ุจู Infura</h3>
    <p>Project ID: 934a2ae012c840dea039c5c2571bce16</p>
    
    <button onclick="connectToInfura()">ุจุฑุฑุณ ุงุชุตุงู ุจู ุงูููุฑุง</button>
    <button onclick="getBlockNumber()">ุฏุฑุงูุช ุขุฎุฑู ุจูุงฺฉ</button>
    <button onclick="getBalance()">ุฏุฑุงูุช ููุฌูุฏ (Vitalik)</button>
    
    <div id="result" style="margin-top:20px; padding:10px; border:1px solid #ccc;"></div>

    <script>
        // Project ID ุดูุง
        const projectId = '934a2ae012c840dea039c5c2571bce16';
        
        // ุงุชุตุงู ุจู ุดุจฺฉูโูุง ูุฎุชูู ุงูููุฑุง
        const networks = {
            ethereum: `https://mainnet.infura.io/v3/${projectId}`,
            polygon: `https://polygon-mainnet.infura.io/v3/${projectId}`,
            polygonAmoy: `https://polygon-amoy.infura.io/v3/${projectId}`  // ูููู ฺฉู ูุฑุณุชุงุฏุฏ
        };
        
        let web3;
        
        function connectToInfura() {
            try {
                // ุงุชุตุงู ุจู polygon (ฺูู ุดูุง ููฺฉ polygon ุฑู ูุฑุณุชุงุฏุฏ)
                web3 = new Web3(new Web3.providers.HttpProvider(networks.polygon));
                
                // ุชุณุช ุงุชุตุงู
                web3.eth.net.isListening()
                    .then(() => {
                        document.getElementById('result').innerHTML = 'โ ุงุชุตุงู ุจู ุงูููุฑุง ุจุฑูุฑุงุฑ ุดุฏ (Polygon)';
                    })
                    .catch(err => {
                        document.getElementById('result').innerHTML = 'โ ุฎุทุง ุฏุฑ ุงุชุตุงู: ' + err.message;
                    });
            } catch (error) {
                document.getElementById('result').innerHTML = 'โ ุฎุทุง: ' + error.message;
            }
        }
        
        function getBlockNumber() {
            if (!web3) {
                alert('ุงุจุชุฏุง ุงุชุตุงู ุฑุง ุจุฑุฑุณ ฺฉูุฏ');
                return;
            }
            
            web3.eth.getBlockNumber()
                .then(blockNumber => {
                    document.getElementById('result').innerHTML = `๐ฆ ุขุฎุฑู ุดูุงุฑู ุจูุงฺฉ: ${blockNumber}`;
                })
                .catch(err => {
                    document.getElementById('result').innerHTML = 'โ ุฎุทุง: ' + err.message;
                });
        }
        
        function getBalance() {
            if (!web3) {
                alert('ุงุจุชุฏุง ุงุชุตุงู ุฑุง ุจุฑุฑุณ ฺฉูุฏ');
                return;
            }
            
            // ุขุฏุฑุณ Vitalik Buterin
            const address = '0xab5801a7d398351b8be11c439e05c5b3259aec9b';
            
            web3.eth.getBalance(address)
                .then(balance => {
                    const balanceInEth = web3.utils.fromWei(balance, 'ether');
                    document.getElementById('result').innerHTML = `๐ฐ ููุฌูุฏ ุขุฏุฑุณ ${address}: <br> ${balanceInEth} ETH`;
                })
                .catch(err => {
                    document.getElementById('result').innerHTML = 'โ ุฎุทุง: ' + err.message;
                });
        }
    </script>
</body>
</html>
